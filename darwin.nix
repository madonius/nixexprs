{ nixpkgs
, supportedSystems ? [ "x86_64-darwin" ]
}:

with import <nixpkgs/pkgs/top-level/release-lib.nix> { inherit supportedSystems; };

(mapTestOn {
  ant = all;
  maven = all;
  aspell = all;
  autoconf = all;
  automake = all;
  binutils = all;
  boost160 = all;
  boost162 = all;
  boost163 = all;
  # borgbackup = all;
  bzip2 = all;
  cairo = all;
  clang-tools = all;
  cmake = all;
  cppcheck = all;
  curl = all;
  diffutils = all;
  dos2unix = all;
  dovecot = all;
  emacs25Macport = all;
  emscripten = all;
  findutils = all;
  fzf = all;
  gawk = all;
  gcc6 = all;
  gdb = all;
  git = all;
  gitMinimal = all;
  # gitAndTools = all;
  glib = all;
  global = all;
  gnugrep = all;
  gnum4 = all;
  gnumake = all;
  gnupg = all;
  gnused = all;
  gnutar = all;
  gnutls = all;
  go = all;
  graphviz = all;
  htop = all;
  imagemagick = all;
  libtool = all;
  # libstdcxx5 = all;
  llvmPackages_37.clang = all;
  llvmPackages_37.libcxx = all;
  llvmPackages_37.libcxxabi = all;
  llvmPackages_38.clang = all;
  llvmPackages_38.libcxx = all;
  llvmPackages_38.libcxxabi = all;
  llvmPackages_39.clang = all;
  llvmPackages_39.libcxx = all;
  llvmPackages_39.libcxxabi = all;
  llvmPackages_4.clang = all;
  llvmPackages_4.libcxx = all;
  llvmPackages_4.libcxxabi = all;
  mtr = all;
  nghttp2 = all;
  nixops = all;
  nix-repl = all;
  nmap = all;
  nodejs = all;
  offlineimap = all;
  openssh = all;
  pandoc = all;
  patchutils = all;
  php56 = all;
  php56Packages.apcu = all;
  php56Packages.imagick = all;
  php56Packages.xdebug = all;
  php70 = all;
  php70Packages.apcu = all;
  php70Packages.imagick = all;
  php70Packages.xdebug = all;
  php71 = all;
  php71Packages.apcu = all;
  php71Packages.imagick = all;
  php71Packages.xdebug = all;
  pinentry_mac = all;
  pkgconfig = all;
  poppler = all;
  postgresql = all;
  pwgen = all;
  range-v3 = all;
  qt57.qtbase = all;
  qt57.qtconnectivity = all;
  qt57.qtdeclarative = all;
  qt57.qtdoc = all;
  qt57.qtgraphicaleffects = all;
  qt57.qtimageformats = all;
  qt57.qtlocation = all;
  qt57.qtmultimedia = all;
  qt57.qtquickcontrols = all;
  qt57.qtquickcontrols2 = all;
  qt57.qtscript = all;
  qt57.qtsensors = all;
  # qt57.qtserialport = all;
  qt57.qtsvg = all;
  qt57.qttools = all;
  qt57.qttranslations = all;
  qt57.qtwebchannel = all;
  # qt57.qtwebengine = all;
  # qt57.qtwebkit = all;
  qt57.qtwebsockets = all;
  qt57.qtxmlpatterns = all;
  qtcreator = all;
  rsync = all;
  rtags = all;
  silver-searcher = all;
  tree = all;
  universal-ctags = all;
  vagrant = all;
  valgrind = all;
  xcbuild = all;
  w3m = all;
  wget = all;
  yarn = all;
  zlib = all;
  zsh = all;
  zsh-autosuggestions = all;
  zsh-completions = all;
  zsh-syntax-highlighting = all;
})
